# Blog Batgan

FastAPI + Vanilla JavaScript ES6+ë¥¼ ì‚¬ìš©í•œ í˜„ëŒ€ì ì¸ ë¸”ë¡œê·¸ í”Œë«í¼

## ğŸš€ ê¸°ìˆ  ìŠ¤íƒ

### Backend
- âš¡ **FastAPI** - ê³ ì„±ëŠ¥ Python ì›¹ API í”„ë ˆì„ì›Œí¬
- ğŸ§° **SQLModel** - SQL ë°ì´í„°ë² ì´ìŠ¤ ORM
- ğŸ” **Pydantic** - ë°ì´í„° ê²€ì¦ ë° ì„¤ì • ê´€ë¦¬
- ğŸ’¾ **PostgreSQL** - ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤
- ğŸ”’ **JWT** ì¸ì¦ ì‹œìŠ¤í…œ
- ğŸ“« ì´ë©”ì¼ ê¸°ë°˜ ë¹„ë°€ë²ˆí˜¸ ë³µêµ¬

### Frontend
- ğŸ¨ **Vanilla JavaScript ES6+** - í”„ë ˆì„ì›Œí¬ ì—†ëŠ” ìˆœìˆ˜ ìë°”ìŠ¤í¬ë¦½íŠ¸
- ğŸ“¦ **ES6 ëª¨ë“ˆ ì‹œìŠ¤í…œ** - í˜„ëŒ€ì ì¸ ëª¨ë“ˆ ì•„í‚¤í…ì²˜
- ğŸ§© **ì»´í¬ë„ŒíŠ¸ ê¸°ë°˜ ì„¤ê³„** - ì¬ì‚¬ìš© ê°€ëŠ¥í•œ UI ì»´í¬ë„ŒíŠ¸
- ğŸ”„ **ë¦¬ì•¡í‹°ë¸Œ ìƒíƒœ ê´€ë¦¬** - êµ¬ë… íŒ¨í„´ ê¸°ë°˜ ìƒíƒœ ì‹œìŠ¤í…œ
- â™¿ **ì ‘ê·¼ì„± ìµœì í™”** - ARIA ë¼ë²¨ ë° ì‹œë§¨í‹± HTML
- ğŸ“± **ë°˜ì‘í˜• ë””ìì¸** - ëª¨ë°”ì¼ ì¹œí™”ì  UI

### DevOps & Tools
- ğŸ‹ **Docker & Docker Compose** - ì»¨í…Œì´ë„ˆí™” ë° ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜
- ğŸš€ **DigitalOcean** - í´ë¼ìš°ë“œ í˜¸ìŠ¤íŒ… í”Œë«í¼
- ğŸ”§ **Nginx** - ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ ì„œë²„
- ğŸ§ª **Playwright** - E2E í…ŒìŠ¤íŒ…
- âœ… **Pytest** - ë°±ì—”ë“œ í…ŒìŠ¤íŠ¸
- ğŸ“§ **MailCatcher** - ê°œë°œìš© ë©”ì¼ ì„œë²„

## ğŸ“Š ì½”ë“œ í’ˆì§ˆ ê°œì„ 

### JavaScript ES6+ ì•„í‚¤í…ì²˜
**ì´ì „: 45/100 â†’ í˜„ì¬: 75/100** (67% ê°œì„ )

#### âœ… ì£¼ìš” ê°œì„ ì‚¬í•­
- **ì»´í¬ë„ŒíŠ¸ ê¸°ë°˜ ì•„í‚¤í…ì²˜**: PostCard, PostList ì»´í¬ë„ŒíŠ¸
- **ì¤‘ì•™ì§‘ì¤‘ì‹ ìƒíƒœ ê´€ë¦¬**: BlogState í´ë˜ìŠ¤ with êµ¬ë… íŒ¨í„´
- **ES6 ëª¨ë“ˆ ì‹œìŠ¤í…œ**: ì ì ˆí•œ import/export êµ¬ì¡°
- **í–¥ìƒëœ ì—ëŸ¬ ì²˜ë¦¬**: ì‚¬ìš©ì ì¹œí™”ì  í”¼ë“œë°± ì‹œìŠ¤í…œ
- **ë³´ì•ˆ ê°•í™”**: XSS ë°©ì§€ ë° HTML ì´ìŠ¤ì¼€ì´í•‘
- **ì ‘ê·¼ì„± ê°œì„ **: WCAG 2.1 ì¤€ìˆ˜

#### ğŸ”§ ê¸°ìˆ ì  íŠ¹ì§•
- ì½”ë“œ ì¤‘ë³µ 60% ê°ì†Œ
- í¬ê´„ì ì¸ ì—ëŸ¬ ê²½ê³„ êµ¬í˜„
- ë¦¬ì•¡í‹°ë¸Œ ìƒíƒœ ê´€ë¦¬ ì‹œìŠ¤í…œ
- ë¡œë”© ìƒíƒœ ë° í˜ì´ì§€ë„¤ì´ì…˜
- TypeScript ìŠ¤íƒ€ì¼ JSDoc ì£¼ì„

## ğŸ—ï¸ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ api/           # API ë¼ìš°í„°
â”‚   â”‚   â”œâ”€â”€ core/          # í•µì‹¬ ì„¤ì •
â”‚   â”‚   â”œâ”€â”€ crud/          # ë°ì´í„°ë² ì´ìŠ¤ ì‘ì—…
â”‚   â”‚   â”œâ”€â”€ models/        # SQLModel ëª¨ë¸
â”‚   â”‚   â””â”€â”€ main.py        # FastAPI ì• í”Œë¦¬ì¼€ì´ì…˜
â”‚   â””â”€â”€ requirements.txt
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ static/
â”‚   â”‚   â”œâ”€â”€ js/
â”‚   â”‚   â”‚   â”œâ”€â”€ api/           # API í†µì‹  ëª¨ë“ˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ components/    # UI ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ state/         # ìƒíƒœ ê´€ë¦¬
â”‚   â”‚   â”‚   â”œâ”€â”€ utils.js       # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â”‚   â”‚   â”‚   â””â”€â”€ main-v2.js     # ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜
â”‚   â”‚   â””â”€â”€ css/
â”‚   â”‚       â”œâ”€â”€ style.css      # ê¸°ë³¸ ìŠ¤íƒ€ì¼
â”‚   â”‚       â””â”€â”€ components.css # ì»´í¬ë„ŒíŠ¸ ìŠ¤íƒ€ì¼
â”‚   â””â”€â”€ templates/         # Jinja2 í…œí”Œë¦¿
â”œâ”€â”€ docs/                  # ë¬¸ì„œ
â””â”€â”€ docker-compose.yml
```

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### 1. ì €ì¥ì†Œ í´ë¡ 
```bash
git clone https://github.com/hdh3296/blog-batgan2.git
cd blog-batgan2
```

### 2. í™˜ê²½ ì„¤ì •
```bash
cp .env.example .env
# .env íŒŒì¼ì—ì„œ í•„ìš”í•œ ê°’ë“¤ì„ ìˆ˜ì •í•˜ì„¸ìš”
```

### 3. ê°œë°œ í™˜ê²½ ì‹¤í–‰
```bash
docker-compose up -d
```

### 4. ì ‘ì†
- **ì›¹ì‚¬ì´íŠ¸**: http://localhost:8000
- **API ë¬¸ì„œ**: http://localhost:8000/docs
- **ê´€ë¦¬ì ë„êµ¬**: http://localhost:8080 (Adminer)
- **ë©”ì¼ ì¸í„°í˜ì´ìŠ¤**: http://localhost:1080 (MailCatcher)
- **í”„ë¡œë•ì…˜ ì‚¬ì´íŠ¸**: http://174.138.30.39 (DigitalOcean ë°°í¬)

## ğŸ“– API ë¬¸ì„œ

FastAPI ìë™ ìƒì„± API ë¬¸ì„œëŠ” http://localhost:8000/docs ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ì£¼ìš” ì—”ë“œí¬ì¸íŠ¸
- `GET /api/v1/posts/` - ê²Œì‹œê¸€ ëª©ë¡ ì¡°íšŒ
- `GET /api/v1/posts/{id}` - ê²Œì‹œê¸€ ìƒì„¸ ì¡°íšŒ
- `POST /api/v1/posts/` - ê²Œì‹œê¸€ ìƒì„± (ì¸ì¦ í•„ìš”)
- `PUT /api/v1/posts/{id}` - ê²Œì‹œê¸€ ìˆ˜ì • (ì¸ì¦ í•„ìš”)
- `DELETE /api/v1/posts/{id}` - ê²Œì‹œê¸€ ì‚­ì œ (ì¸ì¦ í•„ìš”)

## ğŸ§ª í…ŒìŠ¤íŒ…

### ë°±ì—”ë“œ í…ŒìŠ¤íŠ¸
```bash
docker-compose exec backend pytest
```

### í”„ë¡ íŠ¸ì—”ë“œ E2E í…ŒìŠ¤íŠ¸
```bash
# Playwright ì„¤ì¹˜ (ì²« ì‹¤í–‰ì‹œ)
npx playwright install

# í…ŒìŠ¤íŠ¸ ì‹¤í–‰
npx playwright test
```

### ìˆ˜ë™ í…ŒìŠ¤íŠ¸
í”„ë¡œì íŠ¸ì—ëŠ” Playwright-stealthì„ í™œìš©í•œ ì¢…í•© í…ŒìŠ¤íŠ¸ê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤:
- âœ… ë©”ì¸ í˜ì´ì§€ ë¡œë”© í…ŒìŠ¤íŠ¸
- âœ… ë¸”ë¡œê·¸ ëª©ë¡ í˜ì´ì§€ í…ŒìŠ¤íŠ¸
- âœ… ê°œë³„ í¬ìŠ¤íŠ¸ ìƒì„¸ í˜ì´ì§€ í…ŒìŠ¤íŠ¸
- âœ… JavaScript ëª¨ë“ˆ ë¡œë”© ê²€ì¦
- âœ… ì—ëŸ¬ ì²˜ë¦¬ ë° ìƒíƒœ ê´€ë¦¬ í…ŒìŠ¤íŠ¸

## ğŸ”§ ê°œë°œ ê°€ì´ë“œ

### JavaScript ì½”ë“œ í’ˆì§ˆ ê°€ì´ë“œ
í”„ë¡œì íŠ¸ì˜ JavaScript ì½”ë“œ í’ˆì§ˆ ê°€ì´ë“œëŠ” [`docs/javascript-code-quality-guide-2025.md`](./docs/javascript-code-quality-guide-2025.md)ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ì£¼ìš” ê°œë°œ ì›ì¹™
- **ES6+ ê¸°ëŠ¥ í™œìš©**: async/await, êµ¬ì¡°ë¶„í•´í• ë‹¹, ì˜µì…”ë„ ì²´ì´ë‹ ë“±
- **ëª¨ë“ˆí™”**: ê¸°ëŠ¥ë³„ë¡œ ë¶„ë¦¬ëœ ëª¨ë“ˆ êµ¬ì¡°
- **íƒ€ì… ì•ˆì „ì„±**: JSDocì„ í†µí•œ íƒ€ì… íŒíŠ¸
- **ì—ëŸ¬ ì²˜ë¦¬**: í¬ê´„ì ì¸ try-catch ë° ì‚¬ìš©ì í”¼ë“œë°±
- **ì„±ëŠ¥ ìµœì í™”**: ì§€ì—° ë¡œë”© ë° ë©”ëª¨ì´ì œì´ì…˜

### ì»´í¬ë„ŒíŠ¸ ì‚¬ìš© ì˜ˆì‹œ
```javascript
import { PostCard, PostList } from './components/PostCard.js';
import { blogState } from './state/BlogState.js';

// ë‹¨ì¼ í¬ìŠ¤íŠ¸ ì¹´ë“œ
const postCard = new PostCard(post, {
    truncateLength: 150,
    showAuthor: true
});

// í¬ìŠ¤íŠ¸ ëª©ë¡
const postList = new PostList(posts, {
    containerClass: 'recent-posts',
    emptyMessage: 'ê²Œì‹œê¸€ì´ ì—†ìŠµë‹ˆë‹¤.'
});

// ìƒíƒœ êµ¬ë…
blogState.subscribe((state) => {
    console.log('ìƒíƒœ ë³€ê²½:', state);
});
```

## ğŸ“ í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

ì£¼ìš” í™˜ê²½ ë³€ìˆ˜ë“¤:

```env
# ë³´ì•ˆ
SECRET_KEY=your-secret-key-here
FIRST_SUPERUSER_PASSWORD=your-admin-password

# ë°ì´í„°ë² ì´ìŠ¤
POSTGRES_PASSWORD=your-db-password
POSTGRES_DB=app

# ì´ë©”ì¼ (ì„ íƒì‚¬í•­)
SMTP_HOST=smtp.gmail.com
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
```

## ğŸš¢ ë°°í¬

### DigitalOcean ë°°í¬

ì´ í”„ë¡œì íŠ¸ëŠ” DigitalOcean Dropletì— ë°°í¬ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

#### ë°°í¬ ì•„í‚¤í…ì²˜
```
Internet â†’ Nginx (80) â†’ Docker Container â†’ FastAPI (8000)
                                        â†’ PostgreSQL (5432)
```

#### ë°°í¬ ìŠ¤í¬ë¦½íŠ¸
```bash
# 1. ì„œë²„ ì ‘ì†
ssh root@174.138.30.39

# 2. ì½”ë“œ ì—…ë°ì´íŠ¸
cd /opt/blog-batgan2
git pull origin main

# 3. Docker ì´ë¯¸ì§€ ì¬ë¹Œë“œ ë° ì¬ì‹œì‘
docker-compose -f docker-compose.production.yml down
docker-compose -f docker-compose.production.yml up -d --build

# 4. Nginx ì„¤ì • ì—…ë°ì´íŠ¸ (í•„ìš”ì‹œ)
cp nginx/nginx.conf /etc/nginx/sites-available/blog-batgan2
nginx -t && systemctl reload nginx
```

### í™˜ê²½ë³„ ì„¤ì • íŒŒì¼
- **ê°œë°œ**: `docker-compose.yml`, `.env`
- **í”„ë¡œë•ì…˜**: `docker-compose.production.yml`, `.env.production`

### ë°°í¬ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [x] í™˜ê²½ ë³€ìˆ˜ ì„¤ì • (`SECRET_KEY`, `POSTGRES_PASSWORD` ë“±)
- [x] Nginx ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ ì„¤ì •
- [x] Docker ì»¨í…Œì´ë„ˆ í—¬ìŠ¤ì²´í¬
- [ ] HTTPS ì¸ì¦ì„œ ì„¤ì • (Let's Encrypt)
- [ ] ë°ì´í„°ë² ì´ìŠ¤ ë°±ì—… ìë™í™”
- [ ] ë¡œê·¸ ëª¨ë‹ˆí„°ë§ ì„¤ì •

## ğŸ”’ ë³´ì•ˆ ê¸°ëŠ¥

- **JWT ì¸ì¦**: ì•ˆì „í•œ í† í° ê¸°ë°˜ ì¸ì¦
- **ë¹„ë°€ë²ˆí˜¸ í•´ì‹±**: ê¸°ë³¸ì ìœ¼ë¡œ ì•ˆì „í•œ í•´ì‹œ ì•Œê³ ë¦¬ì¦˜ ì‚¬ìš©
- **XSS ë°©ì§€**: HTML ì´ìŠ¤ì¼€ì´í•‘ ë° ì…ë ¥ ê²€ì¦
- **CORS ì •ì±…**: ì ì ˆí•œ CORS ì„¤ì •
- **SQL ì¸ì ì…˜ ë°©ì§€**: SQLModel ORM ì‚¬ìš©

## ğŸ“š ì¶”ê°€ ë¬¸ì„œ

- [JavaScript ì½”ë“œ í’ˆì§ˆ ê°€ì´ë“œ](./docs/javascript-code-quality-guide-2025.md)
- [ë°°í¬ ê°€ì´ë“œ](./deploy/README.md)
- API ë¬¸ì„œ: `/docs` ì—”ë“œí¬ì¸íŠ¸

## ğŸ¤ ê¸°ì—¬í•˜ê¸°

1. Fork the Project
2. Create your Feature Branch (`git checkout -b feature/AmazingFeature`)
3. Commit your Changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the Branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

## ğŸ“„ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„ ìŠ¤ í•˜ì— ë°°í¬ë©ë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ [LICENSE](LICENSE) íŒŒì¼ì„ ì°¸ì¡°í•˜ì„¸ìš”.

## ğŸ™ ê°ì‚¬ì˜ ë§

- [FastAPI](https://fastapi.tiangolo.com/) - í›Œë¥­í•œ Python ì›¹ í”„ë ˆì„ì›Œí¬
- [FastAPI Full Stack Template](https://github.com/fastapi/full-stack-fastapi-template) - í”„ë¡œì íŠ¸ ê¸°ë³¸ êµ¬ì¡°
- Claude Code - JavaScript ì•„í‚¤í…ì²˜ ê°œì„  ì§€ì›

---

â­ ì´ í”„ë¡œì íŠ¸ê°€ ë„ì›€ì´ ë˜ì—ˆë‹¤ë©´ ìŠ¤íƒ€ë¥¼ ëˆŒëŸ¬ì£¼ì„¸ìš”!